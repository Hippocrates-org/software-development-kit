<template name="testingQuickstart">
  <div id="testingQuickstart">
    <h2>Testing Quickstart</h2>
    <hr>
    {{#prism language="bash"}}
      # API Version 3.3.0

      # add .meteor/nightwatch.json to our application
      $ starrynight generate-autoconfig

      # add acceptance tests to your application (using the nightwatch framework)
      $ starrynight scaffold --framework nightwatch

      # run your validation tests using NightWatch
      $ starrynight run-tests --framework nightwatch
    {{/prism}}

    <h2>Detailed Walkthrough</h2>
    <hr>

    <p>
      So, you've never done test driven development before (TDD), or you're new to Meteor, or you simply know that you <i>should</i> be using TDD, but simply don't know how to set things up.  If any of that describes you, lets get you up and running with some tests. <br><br>  We'll start by creating a HelloWorld app with Meteor.
    </p>
    <img src="/testingQuickstart/quickstart-b.png" class="exampleScreenshot" />

    <p>
      If you now open a web browser (Chrome is recommended), you should see the basic Meteor HelloWorld application.
    </p>
    <img src="/testingQuickstart/quickstart-a.png" class="exampleScreenshot" />

    <p>
      And if you look at your project directory in an editor, you'll see the three files which Meteor creates by default, and the .meteor directory, where metadata and database files and temp build files are stored.
    </p>
    <!-- <img src="/testingQuickstart/quickstart-d.png" class="exampleScreenshot" /> -->
    <img src="/testingQuickstart/quickstart-h.png" class="exampleScreenshot" />

    <p>
      Sweet!  We have a working application.  Now we want to install StarryNight, which is our FDA Regulatory Testing Tool.  It's our testing environment, and what we're going to use to launch the Nightwatch test runner.
    </p>
      {{#prism language="bash"}}
        $ npm install -g starrynight
      {{/prism}}
      <br>
      <br>
    <p>
      Once you run that command, you should see a bunch of stuff get installed, that will look something like the following.
    </p>
    <img src="/testingQuickstart/quickstart-c.png" class="exampleScreenshot" />

    <p>
      If StarryNight installs with no errors, you should be able to add the Nightwatch testing framework to your app.
    </p>
      {{#prism language="bash"}}
        $ starrynight generate-autoconfig
      {{/prism}}
    <!-- <img src="/testingQuickstart/quickstart-g.png" class="exampleScreenshot" /> -->

      <br>
      <br>
    <p>
      When you run 'generate-autoconfig', it will add the '.meteor/nightwatch.json' file, which has all the configuration for the Nightwatch Hub.  This file is generated by the <a href="https://github.com/awatson1978/starrynight/blob/master/configs/nightwatch/autoconfig.json">/configs/nightwatch/autoconfig.json</a> file.
    </p>
    <img src="/testingQuickstart/quickstart-i.png" class="exampleScreenshot" />

    <p>
      If StarryNight installs with no errors, and you've managed to add your .meteor/nightwatch.json file; you should be ready the Nightwatch test scaffold.
    </p>
    {{#prism language="bash"}}
      $ starrynight scaffold --framework nightwatch
    {{/prism}}
      <br>
      <br>
<!-- <img src="/testingQuickstart/quickstart-e.png" class="exampleScreenshot" /> -->

    <p>
      StarryNight will install dozens of files by default, with support for multi-user workflows, screenshots, custom assertions, custom actions, logging, walkthoughs, and more.  We're constantly improving the default scaffold; and are building this to work closely with the Clinical Meteor framework.  You may not use everything that's included by default; but the thinking is that it's easier to remove things that are unneeded than it is to research the feature and add it in.
    </p>
    <img src="/testingQuickstart/quickstart-f.png" class="exampleScreenshot" />


    <p>
      If you've got those files installed, it's mostly a matter of running your tests at this point.  Open up a new terminal window, and run the following command.
    </p>
    {{#prism language="bash"}}
      $ starrynight run-tests --framework nightwatch
    {{/prism}}
      <br>
      <br>

    <p>
      You should now have two terminals open, one which is running your Meteor application; and one which is running the Nightwatch test runner.  You'll see Nightwatch open a browser window, close it, and it should report that one test passed.
    </p>
    <img src="/testingQuickstart/quickstart-j.png" class="exampleScreenshot" />

    If you've gotten this far, congratulations!  You've accomplished a major milestone!  Your app has test coverage.  It may only be a single test.  But it's the start of having a proper QA program.  It's also probably the single most important thing you can do to keep technical debt from creeping into your product and to ship an actual product.  :)

    <h2>Next Steps</h2>
    <hr>

    <p>
      Check out some additional resources, such as the <a href="http://nightwatchjs.org/api">Write Tests Using the Nightwatch API</a> and the <a href="https://groups.google.com/forum/#!forum/nightwatchjs">NightwatchJS Google Group</a><br>
    </p>


  </div>
</template>
